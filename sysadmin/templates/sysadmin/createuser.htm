{% extends "sysadmin/base.htm" %}


{%block head %}
{%block title %}{%endblock%}
{%endblock %}


{%block content%}



<div align ="center" style="background-color:#ccccc0;border:0px solid black;width:100%;height:4%; font-size:15px;color:black">  New User Sign Up </div>


<form action="" method="post" name ="main" onsubmit="disable(this)">

   <section class="content">
      <div class="container-fluid">
            
            <!-- general form elements -->
            <div class="card card-primary">

                <div class="card-body">
                  <div class="form-group">
                    <label for="surname">Surname</label>
                    <input type="text" autofocus name="surname" class="form-control" id="surname" placeholder="Surname" required>
                  </div>

                  <div class="form-group">
                    <label for="firstname">First Name</label>
                    <input type="text" name="firstname" class="form-control" id="firstname" placeholder="Firstname" required>
                  </div>

                  <div class="form-group">
                    <label for="othername">Other Name</label>
                    <input type="text" name="othername" class="form-control" id="othername" placeholder="Other name" >
                  </div>

                <div class="form-group">
                  <label>Phone</label>
                  <div class="input-group">

                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-phone"></i></span>
                    </div>

                    <input type="tel" 
                    class="form-control" 
                    name="phone"
                    placeholder="Not Necessary"

                    data-inputmask='"mask": "0999 9999 999"' data-mask>
                  </div>
                </div>


                <div class="form-group">
                  <label>Email:</label>

                  <div class="input-group">

                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                    </div>

                   <input type="email" name="email" class="form-control" placeholder=" E-mail" required >
                  </div>
                </div>

                  <div class="form-group">
                    <label for="customFile">Select Photo:</label>
                    <div class="custom-file">
                      <input type="file" class="custom-file-input" name="photo" id="customFile">
                      <label class="custom-file-label" for="customFile">Choose file</label>
                    </div>
                  </div>

                </div>
              </div>
            </div>
                <!-- /.card-body -->
           <div class="card-footer">
            <td >

              <input class="btn btn-lg btn-success btn-block" name="submit" type= "submit" value="Save">
            </td>
          </div>
      </section>

  </form>



<table width="100%" class="table  table-bordered table-hover" id="dataTables-example">


        <tr>
            <P>Sort by:
            <SELECT NAME='Filters' id= 'id_Filters'>
            <OPTION>------</OPTION>
            <OPTION>ACTIVE</OPTION>
            <OPTION>INACTIVE</OPTION>
            </SELECT>
            </P>
        </tr>

    </table>
   
 <td colspan="10"><div class="box2"></div></td> 



    <div id="myDialog" ></div>

<!-- 
    <script type="text/javascript" >
        $(document).ready(function() {

            $("#id_Filters").change(function () {
                userprofiles();
            });
        });
    </script>
     -->
    <script type="text/javascript" >
        $(document).ready(function() {

            $("#id_Filters").change(function () {
                userprofiles();
            });
        });
    </script>

        <script type="text/javascript" language="javascript">
        function userprofiles(){
            var state = $("#id_Filters").val() ;
            //alert(state);
            var url = "/sysadmin/users_ajax/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    $(".box2").show();
                    $(".box2").html(html);
                }
            });
            return false;
        }
    </script>



    <script language="javascript" type="text/javascript">
        function disable(f)
        {
            var button = f.elements['submit'];
            button.value = 'Processing';
            button.disabled = 'true';
            return true;
        }
    </script>

<script type="text/javascript">
document.getElementById('id_username').focus()
</script>

    <script type="text/javascript" language="javascript">
        function admno(vid){
            //alert(vid);
            var state = vid;
            var url = "/sysadmin/getusermain/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    //$("#myDialog").show();
                    $("#myDialog").html(html);
                    getdialog();
                }
            });
            return false;
        }

    </script>
    <script type="text/javascript" language="javascript">
        function getdialog(){
            var dialogOpts = {
                autoOpen:true,
                modal:true,
                // position: ["center", "middle"],
                height:"auto",
                width:"auto",
                title:'Edit User Account',
                closeOnEscape:true,
                show: true,
                hide: true,
                bgiframe: true
            };
            $("#myDialog").dialog(dialogOpts);
        }

    </script>



    <script type="text/javascript" language="javascript">
        function academic(vid){
            //alert(vid);
            var state = vid;
            var url = "/sysadmin/getacademic/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    //$("#myDialog").show();
                    $("#myDialog").html(html);
                    getdialogaca();
                }
            });
            return false;
        }

    </script>
    <script type="text/javascript" language="javascript">
        function getdialogaca(){
            var dialogOpts = {
                autoOpen:true,
                modal:true,
                position: ["center", "middle"],
                height:"auto",
                width:870,
                title:'Edit User Account - Student/Academic',
                closeOnEscape:true,
                show: true,
                hide: true,
                bgiframe: true
            };
            $("#myDialog").dialog(dialogOpts);
        }

    </script>

    <script type="text/javascript" language="javascript">
        function admin(vid){
            //alert(vid);
            var state = vid;
            var url = "/sysadmin/getadmin/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    //$("#myDialog").show();
                    $("#myDialog").html(html);
                    getdialogadmin();
                }
            });
            return false;
        }

    </script>

    <script type="text/javascript" language="javascript">
        function homeview(vid){
            //alert(vid);
            var state = vid;
            var url = "/sysadmin/homeview/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    //$("#myDialog").show();
                    $("#myDialog").html(html);
                    getdialogadmin();
                }
            });
            return false;
        }

    </script>

    <script type="text/javascript" language="javascript">
        function getdialogadmin(){
            var dialogOpts = {
                autoOpen:true,
                modal:true,
                position: ["center", "middle"],
                height:"auto",
                width:470,
                title:'Edit User Account - Administrator',
                closeOnEscape:true,
                show: true,
                hide: true,
                bgiframe: true
            };
            $("#myDialog").dialog(dialogOpts);
        }

    </script>



    <script type="text/javascript" language="javascript">
        function hrm(vid){
            //alert(vid);
            var state = vid;
            var url = "/hrm/sysadmin/getuseraccount/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    //$("#myDialog").show();
                    $("#myDialog").html(html);
                    getdialoghrm();
                }
            });
            return false;
        }

    </script>
    <script type="text/javascript" language="javascript">
        function getdialoghrm(){
            var dialogOpts = {
                autoOpen:true,
                modal:true,
                position: ["center", "middle"],
                height:"auto",
                width:870,
                title:'Edit User Account',
                closeOnEscape:true,
                show: true,
                hide: true,
                bgiframe: true
            };
            $("#myDialog").dialog(dialogOpts);
        }

    </script>


    <script type="text/javascript" language="javascript">
        function acc(vid){
            //alert(vid);
            var state = vid;
            var url = "/SchApp/account/sysadmin/getuseraccountrw/";
            var i = 0;
            var data='userid='+state;
            $.ajax({
                type:"POST",
                url:url,
                data:data,
                success:function(html) {
                    //$("#myDialog").show();
                    $("#myDialog").html(html);
                    getdialogacc();
                }
            });
            return false;
        }

    </script>
    <script type="text/javascript" language="javascript">
        function getdialogacc(){
            var dialogOpts = {
                autoOpen:true,
                modal:true,
                position: ["center", "middle"],
                height:"auto",
                width:870,
                title:'Edit User Account - Accounting',
                closeOnEscape:true,
                show: true,
                hide: true,
                bgiframe: true
            };
            $("#myDialog").dialog(dialogOpts);
        }

    </script>
    <script type="text/javascript">
        function disbutton(){
            $("input[type=submit]").attr("disabled", "disabled");
            return false;
        }

    </script>


 {%endblock%}
